<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <link rel="stylesheet" type="text/css" href="/static/js/lib/mocha/mocha.css">
        <script src="/static/js/lib/mocha/mocha.js"></script>
        <script>mocha.setup('bdd')</script>
        <script src="/static/js/lib/require.js"></script>
        <script src="/static/js/config.js"></script>
    </head>
    <body>
        <div id="mocha"></div>
        <script>
        require(['src/ui/loading', 'src/utils/urlHelper'], function(loading, urlHelper) {
            describe('loading测试', function() {
                it('loading ajax', function(done) {
                    loading.ajax({
                        url: '/static/js/src/ui/loading.js',
                        $box: $('#mocha')
                    }).done(function(data) {
                        done();
                    });
                });
            });

            describe('urlHelper.js测试', function() {
                it('renderToHref', function() {
                    if (urlHelper.renderToHref('hahahttp://www.baidu.com heihei') !== 'haha<a href="http://www.baidu.com">http://www.baidu.com</a> heihei') {
                        throw new Error();
                    }
                });
            });

            mocha.run();
        });
        </script>
    </body>
</html>